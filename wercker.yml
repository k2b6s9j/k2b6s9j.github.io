box: wercker/rvm
# Build definition
steps:
  - wercker/bundle-install@1.1.1
build:
  # The steps that will be executed on build
  steps:
    - script:
        name: Checkout Master Branch into 'Build'
        code: git clone https://github.com/k2b6s9j/k2b6s9j.github.io build -b master
    - bundle-install
    - script:
        name: Build Static Site
        code: bundle exec middleman build --verbose
deploy:
  steps:
    - script:
        name: Work from Build Directory
        code: cd build
    - script:
        name: Set Git User
        code: |
            git config user.email "pleasemailus@wercker.com"
            git config user.name "werckerbot"
    - script:
        name: Remove and Add the Appropriate Files
        code: git add -u .
    - script:
        name: Git Status
        code: git status
    - script:
        name: Git Commit
        code: git commit -m 'Auto deploy from $WERCKER_STARTED_BY'
    - script:
        name: Git Status
        code: git status
    - script:
        name: Git Push
        code: git push origin
    - script:
        name: Git Status
        code: git status
